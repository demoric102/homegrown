webpackJsonp([6],{"6zey":function(e,n){e.exports='<div class="row">\n  <div class="col-lg-12">\n    <div class="card">\n      <div class="card-header">\n        Create User\n      </div>\n      <div class="card-block">\n        <ng-container *ngIf="progressLoading">\n          <div class="loader02"></div>\n        </ng-container>\n        <form #createUser="ngForm" [style.opacity]="progressLoading == true? 0.4 : 1" (ngSubmit)="onSubmit()">\n          <div class="alert" [class.alert-success]="alert.status == 200" [class.alert-danger]="alert.status == 400" role="alert" *ngIf="alert.visible">\n            <strong>Oh snap!</strong> {{alert.message}}.\n          </div>\n          <div class="row">\n            <div class="col-md-6">\n              <fieldset class="form-group" [class.has-danger]="firstname.errors && firstname.touched">\n                <label for="firstname">\n                      First Name\n                    </label>\n                <input type="text" class="form-control" placeholder="First Name" name="firstname" #firstname="ngModel" [(ngModel)]="user.firstname"\n                  minlength="2" required/>\n                <div class="form-control-feedback" *ngIf="firstname.errors && firstname.touched">\n                  <small [hidden]="!firstname.errors.required">\n                    First name is required.\n                  </small>\n                  <small [hidden]="!firstname.errors.minlength">\n                    Min characters is 2\n                  </small>\n                </div>\n              </fieldset>\n            </div>\n            <div class="col-md-6">\n              <fieldset class="form-group" [class.has-danger]="lastname.errors && lastname.touched">\n                <label for="lastname">\n                  Last Name\n                </label>\n                <input type="text" class="form-control" placeholder="Last Name" name="lastname" #lastname="ngModel" [(ngModel)]="user.lastname"\n                  minlength="2" required/>\n                <div class="form-control-feedback" *ngIf="lastname.errors && lastname.touched">\n                  <small [hidden]="!lastname.errors.required">\n                    Last name is required.\n                  </small>\n                  <small [hidden]="!lastname.errors.minlength">\n                    Min characters is 2\n                  </small>\n                </div>\n              </fieldset>\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-md-6">\n              <fieldset class="form-group" [class.has-danger]="phone.errors && phone.touched">\n                <label for="phone">\n                  Phone Number\n                </label>\n                <input type="text" class="form-control" placeholder="Phone" name="Phone" #phone="ngModel" [(ngModel)]="user.phone" minlength="11"\n                  maxlength="15" required/>\n                <div class="form-control-feedback" *ngIf="phone.errors && phone.touched">\n                  <small [hidden]="!phone.errors.required">\n                    Your Phone Number is required.\n                  </small>\n                  <small [hidden]="!phone.errors.minlength">\n                    Min characters is 11\n                  </small>\n                </div>\n              </fieldset>\n            </div>\n            <div class="col-md-6">\n              <fieldset class="form-group" [class.has-danger]="email.errors && email.touched">\n                <label for="email">\n                  Email\n                </label>\n                <input type="text" class="form-control" placeholder="Email" name="email" #email="ngModel" [(ngModel)]="user.email" minlength="5"\n                  required/>\n                <div class="form-control-feedback" *ngIf="email.errors && email.touched">\n                  <small [hidden]="!email.errors.required">\n                    Your Email is required.\n                  </small>\n                  <small [hidden]="!email.errors.minlength">\n                    Min characters is 5\n                  </small>\n                </div>\n              </fieldset>\n            </div>\n          </div>\n          <fieldset class="form-group" [class.has-danger]="address.errors && address.touched">\n            <label for="address">\n                  Address\n                </label>\n            <textarea class="form-control" placeholder="Address" name="address" #address="ngModel" [(ngModel)]="user.address" minlength="20"\n              required>\n                </textarea>\n            <div class="form-control-feedback" *ngIf="address.errors && address.touched">\n              <small [hidden]="!address.errors.required">\n                    Your Address is required.\n                  </small>\n              <small [hidden]="!address.errors.minlength">\n                    Min characters is 20\n                  </small>\n            </div>\n          </fieldset>\n          <div class="row">\n            <div class="col-md-6">\n              <fieldset class="form-group" [class.has-danger]="password.errors && password.touched">\n                <label for="password">\n                 Password\n                </label>\n                <input type="password" class="form-control" placeholder="Password" name="password" #password="ngModel" [(ngModel)]="user.password"\n                  minlength="8" required/>\n                <div class="form-control-feedback" *ngIf="password.errors && password.touched">\n                  <small [hidden]="!password.errors.required">\n                    Password\n                  </small>\n                  <small [hidden]="!password.errors.minlength">\n                    Min characters is 8\n                  </small>\n                </div>\n              </fieldset>\n            </div>\n            <div class="col-md-6">\n              <fieldset class="form-group" [class.has-danger]="passwordAgain.errors && passwordAgain.touched">\n                <label for="passwordAgain">\n                Password Again\n              </label>\n              <input type="password" class="form-control" placeholder="Password Again" name="passwordAgain" #passwordAgain="ngModel" [(ngModel)]="user.passwordAgain" minlength="5"\n              required/>\n              </fieldset>\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-md-6">\n              <fieldset class="form-group" [class.has-danger]="role.errors && role.touched">\n                <label for="role">\n                  Role\n                </label>\n                <select name="role" class="form-control" #role="ngModel" [(ngModel)]="user.role" (change)="selectSchools(user.role);">\n                  <option disabled selected></option>\n                  <option *ngFor="let role of (role$ | async)" [value]="role.id">{{role?.name}}</option>\n                </select>\n              </fieldset>\n            </div>\n            <div class="col-md-6">\n              <fieldset class="form-group" [class.has-danger]="lga.errors && lga.touched">\n                <label for="lga">\n                  Local Govt. Area\n                </label>\n                <select name="lga" class="form-control" #lga="ngModel" [(ngModel)]="user.lga" (change)="selectSchools(user.lga);">\n                  <option disabled selected></option>\n                  <option *ngFor="let lga of (lga$ | async)" [value]="lga.id">{{lga?.name}}</option>\n                </select>\n              </fieldset>\n            </div>\n          </div>\n          <div class="block mb-3"></div>\n          <button class="btn btn-primary" type="submit" [disabled]="!createUser.valid">Create</button>\n        </form>\n      </div>\n    </div>\n  </div>\n</div>'},"D/Fk":function(e,n){e.exports='<div class="row">\n  <div class="col-lg-12">\n      <div class="card">\n          <div class="card-header">Users list</div>\n          <div class="card-block">\n              <p>Showing all Users</p>\n          </div>\n      \n          <div class="table-responsive">\n              <table datatable [dtOptions]="dtOptions" class="table align-middle mb-0">\n                  <thead>\n                      <tr>\n                          <th>&nbsp;</th>\n                          <th>User</th>\n                          <th>Registered</th>\n                          <th>Location</th>\n                          <th>Email</th>\n                          <th>Phone</th>\n                      </tr>\n                  </thead>\n                  \n              </table>\n          </div>\n      </div>\n    \n  </div>\n</div>'},GVXA:function(e,n,t){"use strict";var s=t("bqB2"),r=t("mlCg"),a=t("rkOF");t.d(n,"a",function(){return o});var o=[{path:"create",component:s.a,data:{heading:"Create User",removeFooter:!0}},{path:"list",component:r.a,data:{heading:"List User",removeFooter:!0}},{path:"view/:id",component:a.a,data:{heading:"View User",removeFooter:!0}}]},HbVw:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=t("/oeL"),r=t("BkNc"),a=t("qbdv"),o=t("Krr4"),i=(t.n(o),t("bwnN")),l=t("+idH"),d=(t.n(l),t("bm2B")),c=t("e6Rn"),u=(t.n(c),t("0WLp")),m=t("bqB2"),v=t("mlCg"),p=t("GVXA"),f=t("rkOF"),h=t("RQN1");t.d(n,"UserModule",function(){return b});var g=this&&this.__decorate||function(e,n,t,s){var r,a=arguments.length,o=a<3?n:null===s?s=Object.getOwnPropertyDescriptor(n,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,n,t,s);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(o=(a<3?r(o):a>3?r(n,t,o):r(n,t))||o);return a>3&&o&&Object.defineProperty(n,t,o),o},b=function(){function e(){}return e}();b=g([t.i(s.NgModule)({imports:[a.CommonModule,r.a.forChild(p.a),d.FormsModule,d.ReactiveFormsModule,u.c,l.CustomFormsModule,i.a,c.TextMaskModule,o.FileUploadModule,h.a,u.d],declarations:[m.a,v.a,f.a]})],b)},SBTS:function(e,n){e.exports='<div class="wrapper">\n    <div class="row">\n      <div class="col-sm-12">\n        <div class="card">\n          <ng-container *ngIf="user$">\n                <div class="card">\n                    <div class="card-header" >\n                        Basic Information\n                        \n                    </div>\n                  <div class="card-block">\n                      <ng-container *ngIf="progressLoading">\n                          <div class="loader02"></div>\n                        </ng-container>\n                    <div class="row mb-2">\n                      <div class="col">\n                        <div class="justify-content-start">   \n                          <div class="mr-auto">Names</div>\n                          <strong>{{(user$ | async)?.firstname}} {{(user$ | async)?.lastname}}</strong>\n                        </div>\n                      </div>\n                      <div class="col">          \n                        <div class="justify-content-start">\n                          <div class="mr-auto">Address</div>\n                          <strong>{{(user$ | async)?.address}}</strong>\n                        </div>\n                      </div>\n                    </div>\n  \n                    <div class="row mb-2">\n                      <div class="col">       \n                        <div class="justify-content-start">\n                          <div class="mr-auto">Phone</div>\n                          <strong>{{(user$ | async)?.phone}}</strong>\n                        </div>\n                      </div>\n                      <div class="col">          \n                        <div class="justify-content-start">\n                          <div class="mr-auto">School Name</div>\n                          <strong>{{(user$ | async)?.school}}</strong>\n                        </div>\n                      </div>\n                    </div>\n  \n                    <div class="row mb-2">\n                      <div class="col">          \n                        <div class="justify-content-start">\n                          <div class="mr-auto">Email</div>\n                          <strong>{{(user$ | async)?.email}}</strong>\n                        </div>\n                      </div>\n                      <div class="col">          \n                        <div class="justify-content-start">\n                          <div class="mr-auto">Account Number</div>\n                          <strong>{{(user$ | async)?.accountNumber}}</strong>\n                        </div>\n                      </div>\n                    </div>\n  \n                    <div class="row mb-2">\n                      <div class="col">          \n                        <div class="justify-content-start">\n                          <div class="mr-auto">Bank Name</div>\n                          <strong>{{(user$ | async)?.bank}}</strong>\n                        </div>\n                      </div>\n                    </div>\n                    <button class="btn btn-info" (click)="open(editUser)">Edit User</button>\n                  </div>\n                </div>\n          </ng-container>\n        </div>\n      </div>\n    </div>\n  </div>\n\n<ng-template ngbModalContainer></ng-template>\n<ng-template #editUser let-c="close" let-d="dismiss">\n  <div class="modal-header">\n    <h6 class="modal-title text-uppercase">Edit user</h6>\n    <button type="button" class="close" aria-label="Close" (click)="d(\'Cross click\')">\n      <span aria-hidden="true">&times;</span>\n    </button>\n  </div>\n  <form #edituser="ngForm" [style.opacity]="progressLoading == true? 0.4 : 1" (ngSubmit)="onSubmit()">\n  <div class="modal-body">\n    <div class="row">\n      <div class="col-sm-12">\n          <div class="card">\n            <div class="card-block">\n              <div class="table-responsive">\n                <table class="table mb-0">\n                  <ng-container *ngIf="user$">\n                  <tbody>\n                    <tr>\n                      <td>\n                        First Name\n                      </td>\n                      <td>\n                        <input type="text" value="{{(user$ | async)?.firstname}}">\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>\n                        Last name\n                      </td>\n                      <td>\n                        <input type="text" value="{{(user$ | async)?.lastname}}">\n                      </td>\n                    </tr>\n                    <tr>\n                        <td>\n                          Phone Number\n                        </td>\n                        <td>\n                          <input type="text" value="{{(user$ | async)?.phone}}">\n                        </td>\n                      </tr>\n                    <tr>\n                      <td>\n                        Address\n                      </td>\n                      <td>\n                        <textarea name="" rows="4" value="{{(user$ | async)?.address}}"></textarea>\n                      </td>\n                    </tr>\n                    <tr>\n                        <td>\n                          Email\n                        </td>\n                        <td>\n                          <input type="text" value="{{(user$ | async)?.email}}">\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                          Bank\n                        </td>\n                        <td>\n                          <input type="text" value="{{(user$ | async)?.bank}}">\n                        </td>\n                      </tr>\n                      <tr>\n                          <td>\n                            Account Number\n                          </td>\n                          <td>\n                            <input type="text" value="{{(user$ | async)?.accountNumber}}">\n                          </td>\n                        </tr>\n                  </tbody>\n                  </ng-container>\n                </table>\n              </div>\n            </div>\n          </div>\n      </div>\n  </div>\n  </div>\n  <div class="modal-footer">\n    <button type="submit" class="btn btn-info">Save Changes</button>\n  </div>\n</form>\n</ng-template>'},bqB2:function(e,n,t){"use strict";var s=t("/oeL"),r=t("ihS1"),a=t("BkNc"),o=t("cTsi"),i=t("JCA6"),l=t("ulDF");t.d(n,"a",function(){return u});var d=this&&this.__decorate||function(e,n,t,s){var r,a=arguments.length,o=a<3?n:null===s?s=Object.getOwnPropertyDescriptor(n,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,n,t,s);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(o=(a<3?r(o):a>3?r(n,t,o):r(n,t))||o);return a>3&&o&&Object.defineProperty(n,t,o),o},c=this&&this.__metadata||function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},u=function(){function e(e,n,t,s,r){this.router=e,this.userService=n,this.lgaService=t,this.schoolService=s,this.bankService=r,this.user={},this.progressLoading=!1,this.alert={visible:!1,status:null,message:""}}return e.prototype.ngOnInit=function(){this.lgas$=this.lgaService.getAll(),this.banks$=this.bankService.getAll(),this.schools$=null,this.schoolService.getAll()},e.prototype.selectSchools=function(e){this.schools$=this.schoolService.getLga(e)},e.prototype.onSubmit=function(){var e=this;this.progressLoading=!0,e.alert={visible:!1,status:null,message:""},this.userService.createUser(this.user).subscribe(function(n){e.user={},e.alert={visible:!0,status:200,message:"".concat("A new user has been created.")},e.progressLoading=!1,console.info(n)},function(n){e.progressLoading=!1,n.error instanceof Error?e.alert={visible:!0,status:n.status,message:"".concat("An error occurred:",n.error.message)}:e.alert={visible:!0,status:n.status,message:"".concat("An error occurred:",n.error.data.invalidAttributes[Object.keys(n.error.data.invalidAttributes)[0]][0].message)}},function(){e.progressLoading=!1})},e}();u=d([t.i(s.Component)({selector:"app-create",template:t("6zey"),styles:[t("wgZk")]}),c("design:paramtypes",["function"==typeof(m=void 0!==a.b&&a.b)&&m||Object,"function"==typeof(v=void 0!==r.a&&r.a)&&v||Object,"function"==typeof(p=void 0!==o.a&&o.a)&&p||Object,"function"==typeof(f=void 0!==l.a&&l.a)&&f||Object,"function"==typeof(h=void 0!==i.a&&i.a)&&h||Object])],u);var m,v,p,f,h},mlCg:function(e,n,t){"use strict";var s=t("/oeL"),r=t("ihS1"),a=t("BkNc"),o=t("cTsi"),i=t("ge1L"),l=(t.n(i),t("wyKu"));t.d(n,"a",function(){return u});var d=this&&this.__decorate||function(e,n,t,s){var r,a=arguments.length,o=a<3?n:null===s?s=Object.getOwnPropertyDescriptor(n,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,n,t,s);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(o=(a<3?r(o):a>3?r(n,t,o):r(n,t))||o);return a>3&&o&&Object.defineProperty(n,t,o),o},c=this&&this.__metadata||function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},u=function(){function e(e,n,t){this.router=e,this.userService=n,this.lgaService=t,this.user={},this.dtOptions={}}return e.prototype.ngOnInit=function(){var e=this;this.lgas$=this.lgaService.getAll();this.dtOptions={processing:!0,serverSide:!0,dom:"<f<t>p>",pagingType:"simple",orderable:!1,ajax:function(n,t,s){e.userService.datatable(n).subscribe(function(e){t(e)})},rowCallback:function(n,t,s){var r=e;return $("td",n).unbind("click"),$("td",n).bind("click",function(){r.router.navigate(["/user/view",t.id])}),n},columns:[{data:"firstname",width:"10%",orderable:!0,render:function(e,n,t){return'<img src="https://randomuser.me/api/portraits/men/62.jpg" class="avatar-md rounded" alt="">'}},{data:"firstname",width:"20%",orderable:!0,render:function(e,n,t){return console.log(e,n,t),'<a href="#" class="d-block text-capitalize">'+t.firstname+" "+t.lastname+"</a><small>"+t.lastname+"</small>"}},{data:"createdAt",width:"20%",orderable:!0,render:function(e,n,t,s){return i(e).calendar(null,l.a)}},{data:"lastname",width:"20%",orderable:!0,render:function(e,n,t){return'<span class="badge badge-default text-uppercase">'+e+"</span>"}},{data:"email",width:"20%",orderable:!1,render:function(e,n,t){return'<a href="#">'+e+"</a>"}},{data:"phone",width:"20%",orderable:!1}],order:[[3,"desc"]],lengthMenu:[20,30,50],pageLength:20,autoWidth:!1,deferRender:!0,stateSave:!0,scrollX:!0,scrollY:"auto"}},e.prototype.onSubmit=function(){console.log(this.user),this.userService.createUser(this.user).subscribe(function(e){console.info(e)},function(e){console.warn(e)})},e}();u=d([t.i(s.Component)({selector:"app-list",template:t("D/Fk"),styles:[t("yy1N")]}),c("design:paramtypes",["function"==typeof(m=void 0!==a.b&&a.b)&&m||Object,"function"==typeof(v=void 0!==r.a&&r.a)&&v||Object,"function"==typeof(p=void 0!==o.a&&o.a)&&p||Object])],u);var m,v,p},rkOF:function(e,n,t){"use strict";var s=t("/oeL"),r=t("BkNc"),a=t("ihS1"),o=t("cTsi"),i=t("0WLp");t.d(n,"a",function(){return c});var l=this&&this.__decorate||function(e,n,t,s){var r,a=arguments.length,o=a<3?n:null===s?s=Object.getOwnPropertyDescriptor(n,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,n,t,s);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(o=(a<3?r(o):a>3?r(n,t,o):r(n,t))||o);return a>3&&o&&Object.defineProperty(n,t,o),o},d=this&&this.__metadata||function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},c=function(){function e(e,n,t,s,r){this.router=e,this.route=n,this.userService=t,this.lgaService=s,this.modalService=r,this.images=[],this.num=1,this.supplier={},this.user={},this.progressLoading=!1,this.alert={visible:!1,status:null,message:""}}return e.prototype.open=function(e){var n=this;this.modalService.open(e).result.then(function(e){n.closeResult="Closed with: "+e},function(e){n.closeResult="Dismissed "+n.getDismissReason(e)})},e.prototype.getDismissReason=function(e){return e===i.e.ESC?"by pressing ESC":e===i.e.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.prototype.ngOnInit=function(){var e=this;this.lgas$=this.lgaService.getAll(),this.user$=this.route.params.switchMap(function(n){return e.userService.getUser(n.id)})},e.prototype.onSubmit=function(){var e=this;this.progressLoading=!0,e.alert={visible:!1,status:null,message:""},this.userService.editUser(this.user).subscribe(function(n){e.user={},e.alert={visible:!0,status:200,message:"".concat("The modifications have been made.")},e.progressLoading=!1,console.info(n)},function(n){e.progressLoading=!1,n.error instanceof Error?e.alert={visible:!0,status:n.status,message:"".concat("An error occurred:",n.error.message)}:e.alert={visible:!0,status:n.status,message:"".concat("An error occurred:",n.error.data.invalidAttributes[Object.keys(n.error.data.invalidAttributes)[0]][0].message)}},function(){e.progressLoading=!1})},e}();c=l([t.i(s.Component)({selector:"app-view",template:t("SBTS"),styles:[t("uGS+")]}),d("design:paramtypes",["function"==typeof(u=void 0!==r.b&&r.b)&&u||Object,"function"==typeof(m=void 0!==r.c&&r.c)&&m||Object,"function"==typeof(v=void 0!==a.a&&a.a)&&v||Object,"function"==typeof(p=void 0!==o.a&&o.a)&&p||Object,"function"==typeof(f=void 0!==i.b&&i.b)&&f||Object])],c);var u,m,v,p,f},"uGS+":function(e,n,t){n=e.exports=t("rP7Y")(!1),n.push([e.i,":host /deep/ tree-viewport{overflow:visible}:host /deep/ tree-viewport>div{height:auto!important}",""]),e.exports=e.exports.toString()},wgZk:function(e,n,t){n=e.exports=t("rP7Y")(!1),n.push([e.i,":host /deep/ tree-viewport{overflow:visible}:host /deep/ tree-viewport>div{height:auto!important}",""]),e.exports=e.exports.toString()},yy1N:function(e,n,t){n=e.exports=t("rP7Y")(!1),n.push([e.i,":host /deep/ tree-viewport{overflow:visible}:host /deep/ tree-viewport>div{height:auto!important}",""]),e.exports=e.exports.toString()}});